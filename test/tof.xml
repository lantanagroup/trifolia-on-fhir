<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="6353edb6-309e-4f05-b1de-adfd5f96b620" activeEnvironment="Default" name="ToF" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="498ed81f-1392-45ca-b471-681bb274668d" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://hapi4-dev.lantanagroup.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:endpoint>https://hapi4-dev.lantanagroup.com/baseR4</con:endpoint></con:endpoints><con:resource name="Implementation Guide" path="/ImplementationGuide/{id}" id="3dd71995-1156-44ce-a75e-69638159aca8"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:style>TEMPLATE</con:style></con:parameter><con:parameter><con:name>_include</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>_id</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:resource name="$meta-delete" path="$meta-delete" id="5f5d0326-1fda-4975-8097-fad745801d7c"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default></con:parameter></con:parameters><con:method name="Implementation Guide $meta-delete" id="c7ce2a60-6329-4a4c-b477-c31b088f3231" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:meta="https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/a27740/$meta-delete">meta:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:meta="https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/a27740/$meta-delete">meta:Response</con:element></con:representation><con:request name="Request 1" id="cc1c0679-ee9d-454b-b666-5b19b5d700dd" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value=""/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="$validate" path="$validate" id="0ae4fa6e-d921-432b-a15c-74f3e1d4fdd8"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default></con:parameter></con:parameters><con:method name="Implementation Guide $validate" id="d182d4fd-c6ba-49c0-aed4-1ff71d105074" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="e6d9c3d2-d520-4923-9692-09488d544bec" mediaType="application/json"><con:settings/><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value=""/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="$expunge" path="$expunge" id="e12298ae-adb8-4a3d-a7d7-a75ae13a823e"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default></con:parameter></con:parameters><con:method name="ImplementationGuide $expunge" id="7b372fec-4871-4056-b9d4-110cbe46add2" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:exp="http://localhost/hapi-fhir-jpaserver/fhir/ImplementationGuide/a80383/$expunge">exp:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:exp="http://localhost/hapi-fhir-jpaserver/fhir/ImplementationGuide/a80383/$expunge">exp:Response</con:element></con:representation><con:request name="Request 1" id="62d967e4-0fe3-4532-ab48-bec4cbb9e91c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:method name="Search or Retrieve" id="16c4f244-3202-4e5e-838e-6a79c23c1ea0" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:met="https://hapi4-dev.lantanagroup.com/baseR4/metadata">met:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:met="https://hapi4-dev.lantanagroup.com/baseR4/metadata">met:Fault</con:element></con:representation><con:request name="Request 1" id="27b8ea63-7ada-4e0f-a6cd-46a11447e243" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/metadata</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Create" id="8b7926f4-a563-4aac-b7e5-a1f5e8a84be4" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="5191f418-7d1b-414b-849d-3820cdadc66f" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Update" id="fdb3491d-33aa-4f08-acba-6fccef97b731" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:b="https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/%7B%23TestCase%23id%7D">b:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>201</con:status><con:params/><con:element xmlns:b="https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/%7B%23TestCase%23id%7D">b:Response</con:element></con:representation><con:request name="Request 1" id="353eb8a5-4d63-442f-8902-e9f09a769ac5" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Delete" id="4a1fb0b1-cfd2-4e63-b4d4-57747bb02179" method="DELETE"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:imp="https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/">imp:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:imp="https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/">imp:Response</con:element></con:representation><con:request name="Request 1" id="f60b1120-7e45-49db-a28f-005e46aebcc2" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="StructureDefinition" path="/StructureDefinition/{id}" id="8bc664d4-e80f-44c6-b122-66ae523e8843"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>_has:ImplementationGuide:resource:_id</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:resource name="$expunge" path="$expunge" id="b38280c4-271c-417a-aa80-38a567f22692"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default></con:parameter></con:parameters><con:method name="StructureDefinition $expunge" id="eed69a8f-adcb-448f-8495-a65f5bb4ab93" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:exp="http://localhost/hapi-fhir-jpaserver/fhir/StructureDefinition/a04605/$expunge">exp:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:exp="http://localhost/hapi-fhir-jpaserver/fhir/StructureDefinition/a04605/$expunge">exp:Response</con:element></con:representation><con:request name="Request 1" id="65f07552-6dd7-4d43-a411-a3b35a7a3e53" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="_has:ImplementationGuide:resource:_id" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:method name="Search or Retrieve" id="d8936d92-733f-4a89-9818-fffeb61f836a" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:str="https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/">str:Response</con:element></con:representation><con:request name="Request 1" id="b228d671-bfc5-429f-8aaa-be4b79cfe4cd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Create" id="e32e25e2-2ebe-47de-ad5a-3da0bc172d70" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="a9a5e2dd-684d-4b2b-9512-f8963986e7bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Update" id="1a130a8f-3929-4a0b-bf36-3d33537709f6" method="PUT"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>201</con:status><con:params/><con:element xmlns:a47="https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/a47725">a47:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Request 1" id="5a30fb7c-3e18-4bd3-821e-f54b76f65970" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="_has:ImplementationGuide:resource:_id" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Delete" id="0588cd1b-00d6-49a0-890d-f0d5ea1efc32" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:a47="https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/a47725">a47:Response</con:element></con:representation><con:request name="Request 1" id="d04a5799-d5fe-4afc-b724-d79efae2e4aa" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="_has:ImplementationGuide:resource:_id" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="Metadata" path="/metadata" id="e67867f8-0951-4800-a15d-d6fc84b7f7d2"><con:settings/><con:parameters/><con:method name="Method 1" id="9551d3c1-186f-45b5-be65-6686acba9ee6" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:met="https://hapi4-dev.lantanagroup.com/baseR4/metadata">met:Response</con:element></con:representation><con:request name="Request 1" id="d2eb25e9-af38-4ceb-be87-5ba45efb0664" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/metadata</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="$expunge" path="/$expunge" id="0b8420bb-3db9-41ab-97ee-4826d6f60199"><con:settings/><con:parameters/><con:method name="Server $expunge" id="5a32a102-43d0-4e95-85fb-9622089dbd26" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/fhir+json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:exp="http://localhost/hapi-fhir-jpaserver/fhir/$expunge">exp:Response</con:element></con:representation><con:request name="Request 1" id="fad497e5-26b4-4678-b715-4aa53dd50014" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/$expunge</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="291b0e8c-a0dc-4e28-8796-c0b677731298" name="FHIR Server Requirements"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="dbecbee3-6f09-48f2-a54a-8e7f15f5e2d3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Check capabilities" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Get Metadata" id="8c445943-ab41-47f0-858c-21df4d723adf"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/metadata" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get Metadata" id="d2eb25e9-af38-4ceb-be87-5ba45efb0664" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/metadata</con:originalUri><con:assertion type="JsonPath Existence Match" id="5f149659-68ff-4cc3-8492-671984dfd4e3" name="Supports the $meta-delete operation"><con:configuration><path>$.rest[*].operation[?(@.name=='meta-delete')]</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="7eb70cea-2c6b-49d8-9497-9d46d7825ee9" name="Supports the $validate operation"><con:configuration><path>$.rest[*].operation[?(@.name=='validate')]</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="3a113b1a-b979-465f-90ca-3c27e06e8ee2" name="Supports the ImplementationGuide.global search parameter"><con:configuration><path>$.rest[*].resource[?(@.type == 'ImplementationGuide')].searchParam[?(@.name == 'global')]</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="3a113b1a-b979-465f-90ca-3c27e06e8ee2" name="Supports the ImplementationGuide.resource search parameter"><con:configuration><path>$.rest[*].resource[?(@.type == 'ImplementationGuide')].searchParam[?(@.name == 'resource')]</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="f92aa0d9-1ea2-4040-a7de-2d10e41c7be3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create from update" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Create IG as update" id="929aa88e-4a19-4b1e-a8ea-d1ff7d62f5bf"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create IG as update" id="5191f418-7d1b-414b-849d-3820cdadc66f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Content-Type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request><![CDATA[{
  "resourceType": "ImplementationGuide",
  "id": "${#TestCase#id}",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example</p><p><b>url</b>: <b>http://hl7.org/fhir/us/daf</b></p><p><b>version</b>: 0</p><p><b>name</b>: Data Access Framework (DAF)</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: 01/01/2015</p><p><b>publisher</b>: ONC / HL7 Joint project</p><p><b>contact</b>: , </p><p><b>description</b>: The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations</p><p><b>jurisdiction</b>: United States of America <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America)</span></p><p><b>copyright</b>: Published by ONC under the standard FHIR license (CC0)</p><p><b>packageId</b>: hl7.fhir.us.daf</p><p><b>license</b>: CC0-1.0</p><p><b>fhirVersion</b>: 4.0.1</p><h3>DependsOns</h3><table><tr><td>-</td><td><b>Uri</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/ImplementationGuide/uscore</a></td></tr></table><h3>Globals</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Profile</b></td></tr><tr><td>*</td><td>Patient</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>definition</b></p><h3>Groupings</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Description</b></td></tr><tr><td>*</td><td>test</td><td>Base package (not broken up into multiple packages)</td></tr></table><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Name</b></td><td><b>Description</b></td><td><b>Example[x]</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td>Test Example</td><td>A test example to show how an implementation guide works</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>page</b></p><p><b>name</b>: <a>patient-example.html</a></p><p><b>title</b>: Example Patient Page</p><p><b>generation</b>: html</p><h3>Pages</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><h3>Parameters</h3><table><tr><td>-</td><td><b>Code</b></td><td><b>Value</b></td></tr><tr><td>*</td><td>apply</td><td>version</td></tr></table></blockquote><blockquote><p><b>manifest</b></p><p><b>rendering</b>: <a>http://hl7.org/fhir/us/daf</a></p><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Example[x]</b></td><td><b>RelativePath</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td><td><a>patient-test.html#patient-test</a></td></tr></table><h3>Pages</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Title</b></td><td><b>Anchor</b></td></tr><tr><td>*</td><td>patient-test.html</td><td>Test Patient Example</td><td>patient-test</td></tr></table><p><b>image</b>: fhir.png</p><p><b>other</b>: fhir.css</p></blockquote></div>"
  },
  "url": "http://hl7.org/fhir/us/daf",
  "version": "0",
  "name": "Data Access Framework (DAF)",
  "status": "draft",
  "experimental": false,
  "date": "2015-01-01",
  "publisher": "ONC / HL7 Joint project",
  "contact": [
    {
      "name": "ONC",
      "telecom": [
        {
          "system": "url",
          "value": "http://www.healthit.gov"
        }
      ]
    },
    {
      "name": "HL7",
      "telecom": [
        {
          "system": "url",
          "value": "http://hl7.org/fhir"
        }
      ]
    }
  ],
  "description": "The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US"
        }
      ]
    }
  ],
  "copyright": "Published by ONC under the standard FHIR license (CC0)",
  "packageId": "hl7.fhir.us.daf",
  "license": "CC0-1.0",
  "fhirVersion": [
    "4.0.0"
  ],
  "dependsOn": [
    {
      "uri": "http://hl7.org/fhir/ImplementationGuide/uscore"
    }
  ],
  "global": [
    {
      "type": "Patient",
      "profile": "http://hl7.org/fhir/us/core/StructureDefinition/patient"
    }
  ],
  "definition": {
    "grouping": [
      {
        "name": "test",
        "description": "Base package (not broken up into multiple packages)"
      }
    ],
    "resource": [
      {
        "reference": {
          "reference": "Patient/test"
        },
        "name": "Test Example",
        "description": "A test example to show how an implementation guide works",
        "exampleCanonical": "http://hl7.org/fhir/us/core/StructureDefinition/patient"
      }
    ],
    "page": {
      "nameUrl": "patient-example.html",
      "title": "Example Patient Page",
      "generation": "html",
      "page": [
        {
          "nameUrl": "list.html",
          "title": "Value Set Page",
          "generation": "html"
        }
      ]
    },
    "parameter": [
      {
        "code": "apply",
        "value": "version"
      }
    ]
  },
  "manifest": {
    "rendering": "http://hl7.org/fhir/us/daf",
    "resource": [
      {
        "reference": {
          "reference": "Patient/test"
        },
        "exampleCanonical": "http://hl7.org/fhir/us/core/StructureDefinition/patient",
        "relativePath": "patient-test.html#patient-test"
      }
    ],
    "page": [
      {
        "name": "patient-test.html",
        "title": "Test Patient Example",
        "anchor": [
          "patient-test",
          "tx",
          "uml"
        ]
      }
    ],
    "image": [
      "fhir.png"
    ],
    "other": [
      "fhir.css"
    ]
  }
}]]></con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/%7B%23TestCase%23id%7D</con:originalUri><con:assertion type="JsonPath Match" id="f4c122dc-111e-4e5b-881f-27f05fca6147" name="Check that it returns an ImplementationGuide resource"><con:configuration><path>resourceType</path><content>ImplementationGuide</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c61ceafe-9957-4b0d-9afd-9ea2c5ac1909" name="Make sure it returns a last updated property"><con:configuration><path>meta.lastUpdated</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f857bf84-98c3-49fc-a78b-5f7ac1755f67" name="Expect it to be the first version of the resource"><con:configuration><path>meta.versionId</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f0442e7b-9eb8-420e-ab58-20974ab8deb0" name="JsonPath Match"><con:configuration><path>id</path><content>${#TestCase#id}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the IG" id="e163fd8b-dabd-4f0a-bb54-060fb8b5ec54"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the IG" id="f60b1120-7e45-49db-a28f-005e46aebcc2" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="580aab06-a33e-46d0-a9ca-35ceb632f96d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Expunge the IG" id="af13a63e-5944-4bb2-97d5-026bd0a70f6c"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}/$expunge" methodName="ImplementationGuide $expunge" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Expunge the IG" id="62d967e4-0fe3-4532-ab48-bec4cbb9e91c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/ImplementationGuide/a44439/$expunge</con:originalUri><con:assertion type="JsonPath Match" id="943f25bd-86a7-4c68-8f82-a7050e29cf05" name="Returned resource is Parameters"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="9921ad87-1c0c-425a-b643-23bc92ed5a67" name="Deleted 2 history/resources"><con:configuration><path>$.parameter[0].valueInteger</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>testCase.setPropertyValue("id", "a" + String.valueOf(Math.random()).substring(2, 7))
testCase.getTestStepByName("Expunge the IG" ).disabled = new Boolean(testCase.testSuite.getPropertyValue('disableExpunge'))</con:setupScript><con:properties><con:property><con:name>id</con:name><con:value>a69236</con:value></con:property></con:properties></con:testCase><con:testCase id="979dbe02-8d93-4638-8f37-68afcdcacc14" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="$validate" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Create IG" id="4e6ab966-090e-4471-9228-f2fa18cde5c0"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create IG" id="5191f418-7d1b-414b-849d-3820cdadc66f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Content-Type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request><![CDATA[{
  "resourceType": "ImplementationGuide",
  "id": "${#TestCase#id}",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example</p><p><b>url</b>: <b>http://hl7.org/fhir/us/daf</b></p><p><b>version</b>: 0</p><p><b>name</b>: Data Access Framework (DAF)</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: 01/01/2015</p><p><b>publisher</b>: ONC / HL7 Joint project</p><p><b>contact</b>: , </p><p><b>description</b>: The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations</p><p><b>jurisdiction</b>: United States of America <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America)</span></p><p><b>copyright</b>: Published by ONC under the standard FHIR license (CC0)</p><p><b>packageId</b>: hl7.fhir.us.daf</p><p><b>license</b>: CC0-1.0</p><p><b>fhirVersion</b>: 4.0.1</p><h3>DependsOns</h3><table><tr><td>-</td><td><b>Uri</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/ImplementationGuide/uscore</a></td></tr></table><h3>Globals</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Profile</b></td></tr><tr><td>*</td><td>Patient</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>definition</b></p><h3>Groupings</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Description</b></td></tr><tr><td>*</td><td>test</td><td>Base package (not broken up into multiple packages)</td></tr></table><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Name</b></td><td><b>Description</b></td><td><b>Example[x]</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td>Test Example</td><td>A test example to show how an implementation guide works</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>page</b></p><p><b>name</b>: <a>patient-example.html</a></p><p><b>title</b>: Example Patient Page</p><p><b>generation</b>: html</p><h3>Pages</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><h3>Parameters</h3><table><tr><td>-</td><td><b>Code</b></td><td><b>Value</b></td></tr><tr><td>*</td><td>apply</td><td>version</td></tr></table></blockquote><blockquote><p><b>manifest</b></p><p><b>rendering</b>: <a>http://hl7.org/fhir/us/daf</a></p><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Example[x]</b></td><td><b>RelativePath</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td><td><a>patient-test.html#patient-test</a></td></tr></table><h3>Pages</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Title</b></td><td><b>Anchor</b></td></tr><tr><td>*</td><td>patient-test.html</td><td>Test Patient Example</td><td>patient-test</td></tr></table><p><b>image</b>: fhir.png</p><p><b>other</b>: fhir.css</p></blockquote></div>"
  },
  "url": "http://hl7.org/fhir/us/daf",
  "version": "0",
  "name": "Data Access Framework (DAF)",
  "status": "draft",
  "experimental": false,
  "date": "2015-01-01",
  "publisher": "ONC / HL7 Joint project",
  "contact": [
    {
      "name": "ONC",
      "telecom": [
        {
          "system": "url",
          "value": "http://www.healthit.gov"
        }
      ]
    },
    {
      "name": "HL7",
      "telecom": [
        {
          "system": "url",
          "value": "http://hl7.org/fhir"
        }
      ]
    }
  ],
  "description": "The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US"
        }
      ]
    }
  ],
  "copyright": "Published by ONC under the standard FHIR license (CC0)",
  "packageId": "hl7.fhir.us.daf",
  "license": "CC0-1.0",
  "fhirVersion": [
    "4.0.0"
  ],
  "dependsOn": [
    {
      "uri": "http://hl7.org/fhir/ImplementationGuide/uscore"
    }
  ],
  "global": [
    {
      "type": "Patient",
      "profile": "http://hl7.org/fhir/us/core/StructureDefinition/patient"
    }
  ],
  "definition": {
    "grouping": [
      {
        "name": "test",
        "description": "Base package (not broken up into multiple packages)"
      }
    ],
    "resource": [
      {
        "reference": {
          "reference": "Patient/test"
        },
        "name": "Test Example",
        "description": "A test example to show how an implementation guide works",
        "exampleCanonical": "http://hl7.org/fhir/us/core/StructureDefinition/patient"
      }
    ],
    "page": {
      "nameUrl": "patient-example.html",
      "title": "Example Patient Page",
      "generation": "html",
      "page": [
        {
          "nameUrl": "list.html",
          "title": "Value Set Page",
          "generation": "html"
        }
      ]
    },
    "parameter": [
      {
        "code": "apply",
        "value": "version"
      }
    ]
  },
  "manifest": {
    "rendering": "http://hl7.org/fhir/us/daf",
    "resource": [
      {
        "reference": {
          "reference": "Patient/test"
        },
        "exampleCanonical": "http://hl7.org/fhir/us/core/StructureDefinition/patient",
        "relativePath": "patient-test.html#patient-test"
      }
    ],
    "page": [
      {
        "name": "patient-test.html",
        "title": "Test Patient Example",
        "anchor": [
          "patient-test",
          "tx",
          "uml"
        ]
      }
    ],
    "image": [
      "fhir.png"
    ],
    "other": [
      "fhir.css"
    ]
  }
}]]></con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/%7B%23TestCase%23id%7D</con:originalUri><con:assertion type="JsonPath Match" id="f4c122dc-111e-4e5b-881f-27f05fca6147" name="Check that it returns an ImplementationGuide resource"><con:configuration><path>resourceType</path><content>ImplementationGuide</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c61ceafe-9957-4b0d-9afd-9ea2c5ac1909" name="Make sure it returns a last updated property"><con:configuration><path>meta.lastUpdated</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f857bf84-98c3-49fc-a78b-5f7ac1755f67" name="Expect it to be the first version of the resource"><con:configuration><path>meta.versionId</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f0442e7b-9eb8-420e-ab58-20974ab8deb0" name="JsonPath Match"><con:configuration><path>id</path><content>${#TestCase#id}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Validate the IG" id="c6e67513-b139-4ff8-bfe7-a2401d10b1b9"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}/$validate" methodName="Implementation Guide $validate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Validate the IG" id="e6d9c3d2-d520-4923-9692-09488d544bec" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/a66445/$validate</con:originalUri><con:assertion type="JsonPath Match" id="803d83c5-e6ed-4d86-827b-858d4cabd222" name="Response is an OperationOutcome"><con:configuration><path>$.resourceType</path><content>OperationOutcome</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the IG" id="eb60e873-46c7-4261-a112-dc10c3eb1c65"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the IG" id="f60b1120-7e45-49db-a28f-005e46aebcc2" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="580aab06-a33e-46d0-a9ca-35ceb632f96d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Expunge the IG" id="f50954d2-86f9-424e-a220-e563df39dc73"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}/$expunge" methodName="ImplementationGuide $expunge" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Expunge the IG" id="62d967e4-0fe3-4532-ab48-bec4cbb9e91c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/ImplementationGuide/a80383/$expunge</con:originalUri><con:assertion type="JsonPath Match" id="4836ba66-8108-44f0-80a7-6e1b63369428" name="Returns a Parameters resource"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c1dd655b-1203-42cb-a724-a2203c0d1c67" name="Deleted 2 history/resources"><con:configuration><path>$.parameter[0].valueInteger</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>testCase.setPropertyValue("id", "a" + String.valueOf(Math.random()).substring(2, 7))
testCase.getTestStepByName("Expunge the IG" ).disabled = new Boolean(testCase.testSuite.getPropertyValue('disableExpunge'))</con:setupScript><con:properties><con:property><con:name>id</con:name><con:value>a48677</con:value></con:property></con:properties></con:testCase><con:testCase id="7d2207e4-c489-4dfb-9c84-9af5c41fcc30" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="$meta-delete" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Create IG with meta tags as update" id="0d08637b-74d2-4c23-9984-a6e223504f1e"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create IG with meta tags as update" id="5191f418-7d1b-414b-849d-3820cdadc66f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Content-Type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request><![CDATA[{
  "resourceType": "ImplementationGuide",
  "id": "${#TestCase#id}",
  "meta": {
  	"security": [{
  		"system": "http://test.com",
  		"code": "test-security-code"
  	}]
  },
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example</p><p><b>url</b>: <b>http://hl7.org/fhir/us/daf</b></p><p><b>version</b>: 0</p><p><b>name</b>: Data Access Framework (DAF)</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: 01/01/2015</p><p><b>publisher</b>: ONC / HL7 Joint project</p><p><b>contact</b>: , </p><p><b>description</b>: The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations</p><p><b>jurisdiction</b>: United States of America <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America)</span></p><p><b>copyright</b>: Published by ONC under the standard FHIR license (CC0)</p><p><b>packageId</b>: hl7.fhir.us.daf</p><p><b>license</b>: CC0-1.0</p><p><b>fhirVersion</b>: 4.0.1</p><h3>DependsOns</h3><table><tr><td>-</td><td><b>Uri</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/ImplementationGuide/uscore</a></td></tr></table><h3>Globals</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Profile</b></td></tr><tr><td>*</td><td>Patient</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>definition</b></p><h3>Groupings</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Description</b></td></tr><tr><td>*</td><td>test</td><td>Base package (not broken up into multiple packages)</td></tr></table><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Name</b></td><td><b>Description</b></td><td><b>Example[x]</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td>Test Example</td><td>A test example to show how an implementation guide works</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>page</b></p><p><b>name</b>: <a>patient-example.html</a></p><p><b>title</b>: Example Patient Page</p><p><b>generation</b>: html</p><h3>Pages</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><h3>Parameters</h3><table><tr><td>-</td><td><b>Code</b></td><td><b>Value</b></td></tr><tr><td>*</td><td>apply</td><td>version</td></tr></table></blockquote><blockquote><p><b>manifest</b></p><p><b>rendering</b>: <a>http://hl7.org/fhir/us/daf</a></p><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Example[x]</b></td><td><b>RelativePath</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td><td><a>patient-test.html#patient-test</a></td></tr></table><h3>Pages</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Title</b></td><td><b>Anchor</b></td></tr><tr><td>*</td><td>patient-test.html</td><td>Test Patient Example</td><td>patient-test</td></tr></table><p><b>image</b>: fhir.png</p><p><b>other</b>: fhir.css</p></blockquote></div>"
  },
  "url": "http://hl7.org/fhir/us/daf",
  "version": "0",
  "name": "Data Access Framework (DAF)",
  "status": "draft",
  "experimental": false,
  "date": "2015-01-01",
  "publisher": "ONC / HL7 Joint project",
  "contact": [
    {
      "name": "ONC",
      "telecom": [
        {
          "system": "url",
          "value": "http://www.healthit.gov"
        }
      ]
    },
    {
      "name": "HL7",
      "telecom": [
        {
          "system": "url",
          "value": "http://hl7.org/fhir"
        }
      ]
    }
  ],
  "description": "The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US"
        }
      ]
    }
  ],
  "copyright": "Published by ONC under the standard FHIR license (CC0)",
  "packageId": "hl7.fhir.us.daf",
  "license": "CC0-1.0",
  "fhirVersion": [
    "4.0.0"
  ],
  "dependsOn": [
    {
      "uri": "http://hl7.org/fhir/ImplementationGuide/uscore"
    }
  ],
  "global": [
    {
      "type": "Patient",
      "profile": "http://hl7.org/fhir/us/core/StructureDefinition/patient"
    }
  ],
  "definition": {
    "grouping": [
      {
        "name": "test",
        "description": "Base package (not broken up into multiple packages)"
      }
    ],
    "resource": [
      {
        "reference": {
          "reference": "Patient/test"
        },
        "name": "Test Example",
        "description": "A test example to show how an implementation guide works",
        "exampleCanonical": "http://hl7.org/fhir/us/core/StructureDefinition/patient"
      }
    ],
    "page": {
      "nameUrl": "patient-example.html",
      "title": "Example Patient Page",
      "generation": "html",
      "page": [
        {
          "nameUrl": "list.html",
          "title": "Value Set Page",
          "generation": "html"
        }
      ]
    },
    "parameter": [
      {
        "code": "apply",
        "value": "version"
      }
    ]
  },
  "manifest": {
    "rendering": "http://hl7.org/fhir/us/daf",
    "resource": [
      {
        "reference": {
          "reference": "Patient/test"
        },
        "exampleCanonical": "http://hl7.org/fhir/us/core/StructureDefinition/patient",
        "relativePath": "patient-test.html#patient-test"
      }
    ],
    "page": [
      {
        "name": "patient-test.html",
        "title": "Test Patient Example",
        "anchor": [
          "patient-test",
          "tx",
          "uml"
        ]
      }
    ],
    "image": [
      "fhir.png"
    ],
    "other": [
      "fhir.css"
    ]
  }
}]]></con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/%7B%23TestCase%23id%7D</con:originalUri><con:assertion type="JsonPath Match" id="f4c122dc-111e-4e5b-881f-27f05fca6147" name="Check that it returns an ImplementationGuide resource"><con:configuration><path>resourceType</path><content>ImplementationGuide</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c61ceafe-9957-4b0d-9afd-9ea2c5ac1909" name="Make sure it returns a last updated property"><con:configuration><path>meta.lastUpdated</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f857bf84-98c3-49fc-a78b-5f7ac1755f67" name="Expect it to be the first version of the resource"><con:configuration><path>meta.versionId</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f0442e7b-9eb8-420e-ab58-20974ab8deb0" name="id should match generated id"><con:configuration><path>id</path><content>${#TestCase#id}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the security tag" id="06295460-ef17-49b7-81d2-de164da794ed"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}/$meta-delete" methodName="Implementation Guide $meta-delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the security tag" id="cc1c0679-ee9d-454b-b666-5b19b5d700dd" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
	"resourceType": "Parameters",
	"parameter": [{
		"name": "meta",
		"valueMeta": {
			"security": {
				"system": "http://test.com",
				"code": "test-security-code"
			}
		}
	}]
}
</con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/a27740/$meta-delete</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f06424de-5128-44db-afc7-82d430df2b6e" name="Returns success status code"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="863407e5-9319-40b3-b509-3310b6c62206" name="Returns a Parameters resource"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve the IG" id="ece5ae8f-ae27-40cb-838a-aaac8c2b2423"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Search or Retrieve" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve the IG" id="27b8ea63-7ada-4e0f-a6cd-46a11447e243" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/metadata</con:originalUri><con:assertion type="JsonPath Match" id="bb3e3b43-3c4c-42b0-ab6f-5e141b118442" name="Returns an ImplementationGuide"><con:configuration><path>$.resourceType</path><content>ImplementationGuide</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="6a1821e7-cb15-48ff-a309-b6ccc95c8372" name="Code does not exist anywhere in returned content"><con:configuration><token>test-security-code</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the IG" id="0c8dc3f8-6796-4652-9fbb-5471e6b2ed57"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the IG" id="f60b1120-7e45-49db-a28f-005e46aebcc2" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="580aab06-a33e-46d0-a9ca-35ceb632f96d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Expunge the IG" id="cf767461-5241-4ffe-a889-080216a247c5"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}/$expunge" methodName="ImplementationGuide $expunge" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Expunge the IG" id="62d967e4-0fe3-4532-ab48-bec4cbb9e91c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/ImplementationGuide/a80383/$expunge</con:originalUri><con:assertion type="JsonPath Match" id="4836ba66-8108-44f0-80a7-6e1b63369428" name="Returns a Parameters resource"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c1dd655b-1203-42cb-a724-a2203c0d1c67" name="Deleted 2 history/resources"><con:configuration><path>$.parameter[0].valueInteger</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>testCase.setPropertyValue("id", "a" + String.valueOf(Math.random()).substring(2, 7))
testCase.getTestStepByName("Expunge the IG" ).disabled = new Boolean(testCase.testSuite.getPropertyValue('disableExpunge'))</con:setupScript><con:properties><con:property><con:name>id</con:name><con:value>a46296</con:value></con:property></con:properties></con:testCase><con:testCase id="c6f41ac2-ab49-42f6-ab28-e70d2060c4a2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="_has" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Create profile 1" id="43b7b03f-c192-4849-934f-a262fc7cde8c"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create profile 1" id="5a30fb7c-3e18-4bd3-821e-f54b76f65970" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request><![CDATA[{
  "resourceType": "StructureDefinition",
  "id": "${#TestCase#sd-id}",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example-section-library</p><p><b>url</b>: <b>http://hl7.org/fhir/StructureDefinition/example-section-library</b></p><p><b>name</b>: DocumentSectionLibrary</p><p><b>title</b>: Document Section Library (For testing section templates)</p><p><b>status</b>: active</p><p><b>experimental</b>: false</p><p><b>date</b>: 05/11/2018 5:57:00 PM</p><p><b>kind</b>: complex-type</p><p><b>abstract</b>: true</p><p><b>type</b>: <a>Composition</a></p><p><b>baseDefinition</b>: <a>http://hl7.org/fhir/StructureDefinition/Composition</a></p><p><b>derivation</b>: constraint</p><h3>Differentials</h3><table><tr><td>-</td><td><b>Element</b></td></tr><tr><td>*</td><td>todo-bundle</td></tr></table></div>"
  },
  "url": "http://hl7.org/fhir/StructureDefinition/example-section-library",
  "name": "DocumentSectionLibrary",
  "title": "Document Section Library (For testing section templates)",
  "status": "active",
  "experimental": false,
  "date": "2018-11-05T17:57:00+11:00",
  "kind": "complex-type",
  "abstract": true,
  "type": "Composition",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Composition",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Composition",
        "path": "Composition"
      },
      {
        "id": "Composition.section",
        "path": "Composition.section",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "code"
            }
          ],
          "description": "Slice by .section.code when using this library of sections",
          "ordered": true,
          "rules": "closed"
        }
      },
      {
        "id": "Composition.section:procedure",
        "path": "Composition.section",
        "sliceName": "procedure"
      },
      {
        "id": "Composition.section:procedure.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Procedures Performed"
      },
      {
        "id": "Composition.section:procedure.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "29554-3",
              "display": "Procedure Narrative"
            }
          ]
        }
      },
      {
        "id": "Composition.section:medications",
        "path": "Composition.section",
        "sliceName": "medications"
      },
      {
        "id": "Composition.section:medications.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Medications Administered"
      },
      {
        "id": "Composition.section:medications.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "29549-3",
              "display": "Medication administered Narrative"
            }
          ]
        }
      },
      {
        "id": "Composition.section:plan",
        "path": "Composition.section",
        "sliceName": "plan"
      },
      {
        "id": "Composition.section:plan.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Discharge Treatment Plan"
      },
      {
        "id": "Composition.section:plan.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "18776-5",
              "display": "Plan of treatment (narrative)"
            }
          ]
        }
      }
    ]
  }
}]]></con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/a47725</con:originalUri><con:assertion type="JsonPath Match" id="b94d6df7-c331-4c04-9e2e-1768389753bf" name="Returns a StructureDefinition"><con:configuration><path>$.resourceType</path><content>StructureDefinition</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="05d029a1-7aaa-48be-bc5f-96ee3417ef28" name="id is the id generated by test case"><con:configuration><path>$.id</path><content>${#TestCase#sd-id}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create profile 2" id="a0f3a06f-7947-4aa8-8f57-b0c87daaa118"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create profile 2" id="5a30fb7c-3e18-4bd3-821e-f54b76f65970" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request><![CDATA[{
  "resourceType": "StructureDefinition",
  "id": "${#TestCase#sd-id2}",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example-section-library</p><p><b>url</b>: <b>http://hl7.org/fhir/StructureDefinition/example-section-library</b></p><p><b>name</b>: DocumentSectionLibrary</p><p><b>title</b>: Document Section Library (For testing section templates)</p><p><b>status</b>: active</p><p><b>experimental</b>: false</p><p><b>date</b>: 05/11/2018 5:57:00 PM</p><p><b>kind</b>: complex-type</p><p><b>abstract</b>: true</p><p><b>type</b>: <a>Composition</a></p><p><b>baseDefinition</b>: <a>http://hl7.org/fhir/StructureDefinition/Composition</a></p><p><b>derivation</b>: constraint</p><h3>Differentials</h3><table><tr><td>-</td><td><b>Element</b></td></tr><tr><td>*</td><td>todo-bundle</td></tr></table></div>"
  },
  "url": "http://hl7.org/fhir/StructureDefinition/example-section-library",
  "name": "DocumentSectionLibrary",
  "title": "Document Section Library (For testing section templates)",
  "status": "active",
  "experimental": false,
  "date": "2018-11-05T17:57:00+11:00",
  "kind": "complex-type",
  "abstract": true,
  "type": "Composition",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Composition",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Composition",
        "path": "Composition"
      },
      {
        "id": "Composition.section",
        "path": "Composition.section",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "code"
            }
          ],
          "description": "Slice by .section.code when using this library of sections",
          "ordered": true,
          "rules": "closed"
        }
      },
      {
        "id": "Composition.section:procedure",
        "path": "Composition.section",
        "sliceName": "procedure"
      },
      {
        "id": "Composition.section:procedure.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Procedures Performed"
      },
      {
        "id": "Composition.section:procedure.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "29554-3",
              "display": "Procedure Narrative"
            }
          ]
        }
      },
      {
        "id": "Composition.section:medications",
        "path": "Composition.section",
        "sliceName": "medications"
      },
      {
        "id": "Composition.section:medications.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Medications Administered"
      },
      {
        "id": "Composition.section:medications.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "29549-3",
              "display": "Medication administered Narrative"
            }
          ]
        }
      },
      {
        "id": "Composition.section:plan",
        "path": "Composition.section",
        "sliceName": "plan"
      },
      {
        "id": "Composition.section:plan.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Discharge Treatment Plan"
      },
      {
        "id": "Composition.section:plan.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "18776-5",
              "display": "Plan of treatment (narrative)"
            }
          ]
        }
      }
    ]
  }
}]]></con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/a47725</con:originalUri><con:assertion type="JsonPath Match" id="b94d6df7-c331-4c04-9e2e-1768389753bf" name="Returns a StructureDefinition"><con:configuration><path>$.resourceType</path><content>StructureDefinition</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="05d029a1-7aaa-48be-bc5f-96ee3417ef28" name="id is the id generated by test case"><con:configuration><path>$.id</path><content>${#TestCase#sd-id2}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id2}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create IG" id="d9236e42-1065-4504-9f0d-1a9690500a96"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create IG" id="5191f418-7d1b-414b-849d-3820cdadc66f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Content-Type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request><![CDATA[{
  "resourceType": "ImplementationGuide",
  "id": "${#TestCase#ig-id}",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example</p><p><b>url</b>: <b>http://hl7.org/fhir/us/daf</b></p><p><b>version</b>: 0</p><p><b>name</b>: Data Access Framework (DAF)</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: 01/01/2015</p><p><b>publisher</b>: ONC / HL7 Joint project</p><p><b>contact</b>: , </p><p><b>description</b>: The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations</p><p><b>jurisdiction</b>: United States of America <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America)</span></p><p><b>copyright</b>: Published by ONC under the standard FHIR license (CC0)</p><p><b>packageId</b>: hl7.fhir.us.daf</p><p><b>license</b>: CC0-1.0</p><p><b>fhirVersion</b>: 4.0.1</p><h3>DependsOns</h3><table><tr><td>-</td><td><b>Uri</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/ImplementationGuide/uscore</a></td></tr></table><h3>Globals</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Profile</b></td></tr><tr><td>*</td><td>Patient</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>definition</b></p><h3>Groupings</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Description</b></td></tr><tr><td>*</td><td>test</td><td>Base package (not broken up into multiple packages)</td></tr></table><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Name</b></td><td><b>Description</b></td><td><b>Example[x]</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td>Test Example</td><td>A test example to show how an implementation guide works</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>page</b></p><p><b>name</b>: <a>patient-example.html</a></p><p><b>title</b>: Example Patient Page</p><p><b>generation</b>: html</p><h3>Pages</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><h3>Parameters</h3><table><tr><td>-</td><td><b>Code</b></td><td><b>Value</b></td></tr><tr><td>*</td><td>apply</td><td>version</td></tr></table></blockquote><blockquote><p><b>manifest</b></p><p><b>rendering</b>: <a>http://hl7.org/fhir/us/daf</a></p><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Example[x]</b></td><td><b>RelativePath</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td><td><a>patient-test.html#patient-test</a></td></tr></table><h3>Pages</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Title</b></td><td><b>Anchor</b></td></tr><tr><td>*</td><td>patient-test.html</td><td>Test Patient Example</td><td>patient-test</td></tr></table><p><b>image</b>: fhir.png</p><p><b>other</b>: fhir.css</p></blockquote></div>"
  },
  "url": "http://hl7.org/fhir/us/daf",
  "version": "0",
  "name": "Data Access Framework (DAF)",
  "status": "draft",
  "experimental": false,
  "date": "2015-01-01",
  "publisher": "ONC / HL7 Joint project",
  "contact": [
    {
      "name": "ONC",
      "telecom": [
        {
          "system": "url",
          "value": "http://www.healthit.gov"
        }
      ]
    },
    {
      "name": "HL7",
      "telecom": [
        {
          "system": "url",
          "value": "http://hl7.org/fhir"
        }
      ]
    }
  ],
  "description": "The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US"
        }
      ]
    }
  ],
  "copyright": "Published by ONC under the standard FHIR license (CC0)",
  "packageId": "hl7.fhir.us.daf",
  "license": "CC0-1.0",
  "fhirVersion": [
    "4.0.0"
  ],
  "dependsOn": [
    {
      "uri": "http://hl7.org/fhir/ImplementationGuide/uscore"
    }
  ],
  "global": [
    {
      "type": "Patient",
      "profile": "http://hl7.org/fhir/us/core/StructureDefinition/patient"
    }
  ],
  "definition": {
    "grouping": [
      {
        "name": "test",
        "description": "Base package (not broken up into multiple packages)"
      }
    ],
    "resource": [
      {
        "reference": {
          "reference": "StructureDefinition/${#TestCase#sd-id}"
        },
        "name": "Example Profile"
      }
    ],
    "page": {
      "nameUrl": "patient-example.html",
      "title": "Example Patient Page",
      "generation": "html",
      "page": [
        {
          "nameUrl": "list.html",
          "title": "Value Set Page",
          "generation": "html"
        }
      ]
    },
    "parameter": [
      {
        "code": "apply",
        "value": "version"
      }
    ]
  }
}]]></con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/%7B%23TestCase%23id%7D</con:originalUri><con:assertion type="JsonPath Match" id="f4c122dc-111e-4e5b-881f-27f05fca6147" name="Check that it returns an ImplementationGuide resource"><con:configuration><path>resourceType</path><content>ImplementationGuide</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c61ceafe-9957-4b0d-9afd-9ea2c5ac1909" name="Make sure it returns a last updated property"><con:configuration><path>meta.lastUpdated</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f857bf84-98c3-49fc-a78b-5f7ac1755f67" name="Expect it to be the first version of the resource"><con:configuration><path>meta.versionId</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f0442e7b-9eb8-420e-ab58-20974ab8deb0" name="id is same as id generated by test case"><con:configuration><path>id</path><content>${#TestCase#ig-id}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#ig-id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Search for profiles that belong to IG" id="2eb2924d-e822-4713-af88-df330a0f5adf"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}" methodName="Search or Retrieve" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Search for profiles that belong to IG" id="b228d671-bfc5-429f-8aaa-be4b79cfe4cd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/</con:originalUri><con:assertion type="JsonPath Match" id="b9257e46-96da-4be4-9f36-6018c189448f" name="Returned resource is a Bundle"><con:configuration><path>$.resourceType</path><content>Bundle</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="7dc2bd73-23a3-4635-8d85-4c954ed05a09" name="Bundle has one resource in it"><con:configuration><path>$.total</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value="${#TestCase#ig-id}"/>
  <con:entry key="id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the ig" id="9cee2108-995a-4218-9d4e-2d48addd5517"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the ig" id="f60b1120-7e45-49db-a28f-005e46aebcc2" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/a81053</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6083e546-0d0b-4c0b-8d03-908fd1ed72e2" name="Expect a successful status code"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#ig-id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the profile" id="d2f34188-9de7-4011-b028-ec5d7baa43ac"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the profile" id="d04a5799-d5fe-4afc-b724-d79efae2e4aa" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/a47725</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="78d4172c-b856-4065-bdc8-4a5c87bba774" name="Expect a succesful status code"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the profile 2" id="969725d7-c84b-4714-8d73-0b019cf19bec"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the profile 2" id="d04a5799-d5fe-4afc-b724-d79efae2e4aa" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/a47725</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="78d4172c-b856-4065-bdc8-4a5c87bba774" name="Expect a succesful status code"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id2}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Expunge the IG" id="7ca940a0-c001-41c8-ae2c-38461aab0586"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}/$expunge" methodName="ImplementationGuide $expunge" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Expunge the IG" id="62d967e4-0fe3-4532-ab48-bec4cbb9e91c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/ImplementationGuide/a80383/$expunge</con:originalUri><con:assertion type="JsonPath Match" id="4836ba66-8108-44f0-80a7-6e1b63369428" name="Returns a Parameters resource"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c1dd655b-1203-42cb-a724-a2203c0d1c67" name="Deleted 2 history/resources"><con:configuration><path>$.parameter[0].valueInteger</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#ig-id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Expunge the Profile" id="b8841131-959f-44bd-af6e-e422dfd0318c"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}/$expunge" methodName="StructureDefinition $expunge" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Expunge the Profile" id="65f07552-6dd7-4d43-a411-a3b35a7a3e53" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/StructureDefinition/a04605/$expunge</con:originalUri><con:assertion type="JsonPath Match" id="9fa8257c-1e69-4af6-9ee5-cecf2f921895" name="Returned resource is Parameters"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="154c92a6-1302-41a3-86a6-e85b156d1589" name="Deleted 2 history/resources"><con:configuration><path>$.parameter[0].valueInteger</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Expunge the Profile 2" id="cea1097e-90b0-407e-99e9-4333f51d31e1"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}/$expunge" methodName="StructureDefinition $expunge" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Expunge the Profile 2" id="65f07552-6dd7-4d43-a411-a3b35a7a3e53" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/StructureDefinition/a04605/$expunge</con:originalUri><con:assertion type="JsonPath Match" id="9fa8257c-1e69-4af6-9ee5-cecf2f921895" name="Returned resource is Parameters"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="154c92a6-1302-41a3-86a6-e85b156d1589" name="Deleted 2 history/resources"><con:configuration><path>$.parameter[0].valueInteger</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id2}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>testCase.setPropertyValue("ig-id", "a" + String.valueOf(Math.random()).substring(2, 7))
testCase.setPropertyValue("sd-id", "a" + String.valueOf(Math.random()).substring(2, 7))
testCase.setPropertyValue("sd-id2", "a" + String.valueOf(Math.random()).substring(2, 7))
testCase.getTestStepByName("Expunge the IG" ).disabled = new Boolean(testCase.testSuite.getPropertyValue('disableExpunge'))
testCase.getTestStepByName("Expunge the Profile" ).disabled = new Boolean(testCase.testSuite.getPropertyValue('disableExpunge'))</con:setupScript><con:properties><con:property><con:name>ig-id</con:name><con:value>a77612</con:value></con:property><con:property><con:name>sd-id</con:name><con:value>a63587</con:value></con:property><con:property><con:name>sd-id2</con:name><con:value>a05218</con:value></con:property></con:properties></con:testCase><con:testCase id="c1ccc8bf-08c3-47ec-93d8-2a7d4a5fe4e8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="_include" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Create profile" id="8343da4d-28d8-46ca-8a88-748bba27c5fe"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create profile" id="5a30fb7c-3e18-4bd3-821e-f54b76f65970" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request><![CDATA[{
  "resourceType": "StructureDefinition",
  "id": "${#TestCase#sd-id}",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example-section-library</p><p><b>url</b>: <b>http://hl7.org/fhir/StructureDefinition/example-section-library</b></p><p><b>name</b>: DocumentSectionLibrary</p><p><b>title</b>: Document Section Library (For testing section templates)</p><p><b>status</b>: active</p><p><b>experimental</b>: false</p><p><b>date</b>: 05/11/2018 5:57:00 PM</p><p><b>kind</b>: complex-type</p><p><b>abstract</b>: true</p><p><b>type</b>: <a>Composition</a></p><p><b>baseDefinition</b>: <a>http://hl7.org/fhir/StructureDefinition/Composition</a></p><p><b>derivation</b>: constraint</p><h3>Differentials</h3><table><tr><td>-</td><td><b>Element</b></td></tr><tr><td>*</td><td>todo-bundle</td></tr></table></div>"
  },
  "url": "http://hl7.org/fhir/StructureDefinition/example-section-library",
  "name": "DocumentSectionLibrary",
  "title": "Document Section Library (For testing section templates)",
  "status": "active",
  "experimental": false,
  "date": "2018-11-05T17:57:00+11:00",
  "kind": "complex-type",
  "abstract": true,
  "type": "Composition",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Composition",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Composition",
        "path": "Composition"
      },
      {
        "id": "Composition.section",
        "path": "Composition.section",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "code"
            }
          ],
          "description": "Slice by .section.code when using this library of sections",
          "ordered": true,
          "rules": "closed"
        }
      },
      {
        "id": "Composition.section:procedure",
        "path": "Composition.section",
        "sliceName": "procedure"
      },
      {
        "id": "Composition.section:procedure.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Procedures Performed"
      },
      {
        "id": "Composition.section:procedure.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "29554-3",
              "display": "Procedure Narrative"
            }
          ]
        }
      },
      {
        "id": "Composition.section:medications",
        "path": "Composition.section",
        "sliceName": "medications"
      },
      {
        "id": "Composition.section:medications.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Medications Administered"
      },
      {
        "id": "Composition.section:medications.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "29549-3",
              "display": "Medication administered Narrative"
            }
          ]
        }
      },
      {
        "id": "Composition.section:plan",
        "path": "Composition.section",
        "sliceName": "plan"
      },
      {
        "id": "Composition.section:plan.title",
        "path": "Composition.section.title",
        "min": 1,
        "fixedString": "Discharge Treatment Plan"
      },
      {
        "id": "Composition.section:plan.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "18776-5",
              "display": "Plan of treatment (narrative)"
            }
          ]
        }
      }
    ]
  }
}]]></con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/a47725</con:originalUri><con:assertion type="JsonPath Match" id="b94d6df7-c331-4c04-9e2e-1768389753bf" name="Returns a StructureDefinition"><con:configuration><path>$.resourceType</path><content>StructureDefinition</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="05d029a1-7aaa-48be-bc5f-96ee3417ef28" name="id is the id generated by test case"><con:configuration><path>$.id</path><content>${#TestCase#sd-id}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create IG" id="2c8c9d72-dc6a-4779-861c-2fc31a68201e"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create IG" id="5191f418-7d1b-414b-849d-3820cdadc66f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Content-Type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request><![CDATA[{
  "resourceType": "ImplementationGuide",
  "id": "${#TestCase#ig-id}",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example</p><p><b>url</b>: <b>http://hl7.org/fhir/us/daf</b></p><p><b>version</b>: 0</p><p><b>name</b>: Data Access Framework (DAF)</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: 01/01/2015</p><p><b>publisher</b>: ONC / HL7 Joint project</p><p><b>contact</b>: , </p><p><b>description</b>: The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations</p><p><b>jurisdiction</b>: United States of America <span>(Details : {urn:iso:std:iso:3166 code 'US' = 'United States of America)</span></p><p><b>copyright</b>: Published by ONC under the standard FHIR license (CC0)</p><p><b>packageId</b>: hl7.fhir.us.daf</p><p><b>license</b>: CC0-1.0</p><p><b>fhirVersion</b>: 4.0.1</p><h3>DependsOns</h3><table><tr><td>-</td><td><b>Uri</b></td></tr><tr><td>*</td><td><a>http://hl7.org/fhir/ImplementationGuide/uscore</a></td></tr></table><h3>Globals</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Profile</b></td></tr><tr><td>*</td><td>Patient</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>definition</b></p><h3>Groupings</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Description</b></td></tr><tr><td>*</td><td>test</td><td>Base package (not broken up into multiple packages)</td></tr></table><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Name</b></td><td><b>Description</b></td><td><b>Example[x]</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td>Test Example</td><td>A test example to show how an implementation guide works</td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td></tr></table><blockquote><p><b>page</b></p><p><b>name</b>: <a>patient-example.html</a></p><p><b>title</b>: Example Patient Page</p><p><b>generation</b>: html</p><h3>Pages</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><h3>Parameters</h3><table><tr><td>-</td><td><b>Code</b></td><td><b>Value</b></td></tr><tr><td>*</td><td>apply</td><td>version</td></tr></table></blockquote><blockquote><p><b>manifest</b></p><p><b>rendering</b>: <a>http://hl7.org/fhir/us/daf</a></p><h3>Resources</h3><table><tr><td>-</td><td><b>Reference</b></td><td><b>Example[x]</b></td><td><b>RelativePath</b></td></tr><tr><td>*</td><td><a>Patient/test</a></td><td><a>http://hl7.org/fhir/us/core/StructureDefinition/patient</a></td><td><a>patient-test.html#patient-test</a></td></tr></table><h3>Pages</h3><table><tr><td>-</td><td><b>Name</b></td><td><b>Title</b></td><td><b>Anchor</b></td></tr><tr><td>*</td><td>patient-test.html</td><td>Test Patient Example</td><td>patient-test</td></tr></table><p><b>image</b>: fhir.png</p><p><b>other</b>: fhir.css</p></blockquote></div>"
  },
  "url": "http://hl7.org/fhir/us/daf",
  "version": "0",
  "name": "Data Access Framework (DAF)",
  "status": "draft",
  "experimental": false,
  "date": "2015-01-01",
  "publisher": "ONC / HL7 Joint project",
  "contact": [
    {
      "name": "ONC",
      "telecom": [
        {
          "system": "url",
          "value": "http://www.healthit.gov"
        }
      ]
    },
    {
      "name": "HL7",
      "telecom": [
        {
          "system": "url",
          "value": "http://hl7.org/fhir"
        }
      ]
    }
  ],
  "description": "The Data Access Framework (DAF) Initiative leverages the HL7 FHIR standards to standardize access to Meaningful Use Stage 2 structured information both within the organization and from external organizations",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US"
        }
      ]
    }
  ],
  "copyright": "Published by ONC under the standard FHIR license (CC0)",
  "packageId": "hl7.fhir.us.daf",
  "license": "CC0-1.0",
  "fhirVersion": [
    "4.0.0"
  ],
  "dependsOn": [
    {
      "uri": "http://hl7.org/fhir/ImplementationGuide/uscore"
    }
  ],
  "global": [
    {
      "type": "Patient",
      "profile": "http://hl7.org/fhir/us/core/StructureDefinition/patient"
    }
  ],
  "definition": {
    "grouping": [
      {
        "name": "test",
        "description": "Base package (not broken up into multiple packages)"
      }
    ],
    "resource": [
      {
        "reference": {
          "reference": "StructureDefinition/${#TestCase#sd-id}"
        },
        "name": "Example Profile"
      }
    ],
    "page": {
      "nameUrl": "patient-example.html",
      "title": "Example Patient Page",
      "generation": "html",
      "page": [
        {
          "nameUrl": "list.html",
          "title": "Value Set Page",
          "generation": "html"
        }
      ]
    },
    "parameter": [
      {
        "code": "apply",
        "value": "version"
      }
    ]
  }
}]]></con:request><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/%7B%23TestCase%23id%7D</con:originalUri><con:assertion type="JsonPath Match" id="f4c122dc-111e-4e5b-881f-27f05fca6147" name="Check that it returns an ImplementationGuide resource"><con:configuration><path>resourceType</path><content>ImplementationGuide</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c61ceafe-9957-4b0d-9afd-9ea2c5ac1909" name="Make sure it returns a last updated property"><con:configuration><path>meta.lastUpdated</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f857bf84-98c3-49fc-a78b-5f7ac1755f67" name="Expect it to be the first version of the resource"><con:configuration><path>meta.versionId</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="f0442e7b-9eb8-420e-ab58-20974ab8deb0" name="id is same as id generated by test case"><con:configuration><path>id</path><content>${#TestCase#ig-id}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#ig-id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Get all resources related to the IG, including the IG" id="9db1552b-76e5-4476-a397-08aa67f2d6e7"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Search or Retrieve" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Get all resources related to the IG, including the IG" id="27b8ea63-7ada-4e0f-a6cd-46a11447e243" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/metadata</con:originalUri><con:assertion type="JsonPath Match" id="b95e4c6b-e8af-4785-958e-fd2aab3ef5fe" name="Returned resource is a Bundle"><con:configuration><path>$.resourceType</path><content>Bundle</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="a1bf9ad6-f4bd-469f-8b5e-b8d85859b53f" name="First resource is the ImplementationGuide"><con:configuration><path>$.entry[0].resource.resourceType</path><content>ImplementationGuide</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="43838c71-e53b-4d89-a994-6b42adeb6494" name="Second resource is the StructureDefinition"><con:configuration><path>$.entry[1].resource.resourceType</path><content>StructureDefinition</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value="ImplementationGuide:resource"/>
  <con:entry key="_id" value="${#TestCase#ig-id}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the ig" id="d05ad31b-3301-4fb7-b9e2-c72205732b75"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the ig" id="f60b1120-7e45-49db-a28f-005e46aebcc2" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/ImplementationGuide/a81053</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6083e546-0d0b-4c0b-8d03-908fd1ed72e2" name="Expect a successful status code"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#ig-id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete the profile" id="feaa31b3-8ee2-431f-91be-fc0077352580"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete the profile" id="d04a5799-d5fe-4afc-b724-d79efae2e4aa" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request/><con:originalUri>https://hapi4-dev.lantanagroup.com/baseR4/StructureDefinition/a47725</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="78d4172c-b856-4065-bdc8-4a5c87bba774" name="Expect a succesful status code"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Expunge the IG" id="e8b49ae1-703b-40e6-bc27-3275575d9788"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/ImplementationGuide/{id}/$expunge" methodName="ImplementationGuide $expunge" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Expunge the IG" id="62d967e4-0fe3-4532-ab48-bec4cbb9e91c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/ImplementationGuide/a80383/$expunge</con:originalUri><con:assertion type="JsonPath Match" id="4836ba66-8108-44f0-80a7-6e1b63369428" name="Returns a Parameters resource"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="c1dd655b-1203-42cb-a724-a2203c0d1c67" name="Deleted 2 history/resources"><con:configuration><path>$.parameter[0].valueInteger</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_include" value=""/>
  <con:entry key="id" value="${#TestCase#ig-id}"/>
  <con:entry key="_id" value=""/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_include</con:entry><con:entry>_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Expunge the Profile" id="2e1ab4c6-6a49-454f-acc6-c945208db4f2"><con:settings/><con:config service="https://hapi4-dev.lantanagroup.com" resourcePath="/StructureDefinition/{id}/$expunge" methodName="StructureDefinition $expunge" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Expunge the Profile" id="65f07552-6dd7-4d43-a411-a3b35a7a3e53" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8082/hapi-fhir-jpaserver/fhir</con:endpoint><con:request>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "limit",
      "valueInteger": 1000
    },{
      "name": "expungeDeletedResources",
      "valueBoolean": true
    },{
      "name": "expungePreviousVersions",
      "valueBoolean": true
    }
  ]
}</con:request><con:originalUri>http://localhost/hapi-fhir-jpaserver/fhir/StructureDefinition/a04605/$expunge</con:originalUri><con:assertion type="JsonPath Match" id="9fa8257c-1e69-4af6-9ee5-cecf2f921895" name="Returned resource is Parameters"><con:configuration><path>$.resourceType</path><content>Parameters</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="154c92a6-1302-41a3-86a6-e85b156d1589" name="Deleted 2 history/resources"><con:configuration><path>$.parameter[0].valueInteger</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="_has:ImplementationGuide:resource:_id" value=""/>
  <con:entry key="id" value="${#TestCase#sd-id}"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>_has:ImplementationGuide:resource:_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>testCase.setPropertyValue("ig-id", "a" + String.valueOf(Math.random()).substring(2, 7))
testCase.setPropertyValue("sd-id", "a" + String.valueOf(Math.random()).substring(2, 7))
testCase.getTestStepByName("Expunge the IG" ).disabled = new Boolean(testCase.testSuite.getPropertyValue('disableExpunge'))
testCase.getTestStepByName("Expunge the Profile" ).disabled = new Boolean(testCase.testSuite.getPropertyValue('disableExpunge'))</con:setupScript><con:properties><con:property><con:name>ig-id</con:name><con:value>a90557</con:value></con:property><con:property><con:name>sd-id</con:name><con:value>a88422</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>disableExpunge</con:name><con:value>false</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>